/*! PhotoSwipe - v4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function(d,c){"function"==typeof define&&define.amd?define(c):"object"==typeof exports?module.exports=c():d.PhotoSwipe=c()}(this,function(){var b=function(cn,cm,cl,ck){var cj={features:null,bind:function(h,g,l,k){var j=(k?"remove":"add")+"EventListener";g=g.split(" ");for(var i=0;i<g.length;i++){g[i]&&h[j](g[i],l,!1)}},isArray:function(c){return c instanceof Array},createEl:function(e,d){var f=document.createElement(d||"div");return e&&(f.className=e),f},getScrollY:function(){var c=window.pageYOffset;return void 0!==c?c:document.documentElement.scrollTop},unbind:function(e,d,f){cj.bind(e,d,f,!0)},removeClass:function(e,d){var f=new RegExp("(\\s|^)"+d+"(\\s|$)");e.className=e.className.replace(f," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(d,c){cj.hasClass(d,c)||(d.className+=(d.className?" ":"")+c)},hasClass:function(d,c){return d.className&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(d.className)},getChildByClass:function(e,d){for(var f=e.firstChild;f;){if(cj.hasClass(f,d)){return f}f=f.nextSibling}},arraySearch:function(f,e,h){for(var g=f.length;g--;){if(f[g][h]===e){return g}}return -1},extend:function(f,e,h){for(var g in e){if(e.hasOwnProperty(g)){if(h&&f.hasOwnProperty(g)){continue}f[g]=e[g]}}},easing:{sine:{out:function(c){return Math.sin(c*(Math.PI/2))},inOut:function(c){return -(Math.cos(Math.PI*c)-1)/2}},cubic:{out:function(c){return --c*c*c+1}}},detectFeatures:function(){if(cj.features){return cj.features}var D=cj.createEl(),C=D.style,B="",A={};if(A.oldIE=document.all&&!document.addEventListener,A.touch="ontouchstart" in window,window.requestAnimationFrame&&(A.raf=window.requestAnimationFrame,A.caf=window.cancelAnimationFrame),A.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!A.pointerEvent){var z=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var y=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);y&&y.length>0&&(y=parseInt(y[1],10),y>=1&&8>y&&(A.isOldIOSPhone=!0))}var x=z.match(/Android\s([0-9\.]*)/),w=x?x[1]:0;w=parseFloat(w),w>=1&&(4.4>w&&(A.isOldAndroid=!0),A.androidVersion=w),A.isMobileOpera=/opera mini|opera mobi/i.test(z)}for(var v,u,t=["transform","perspective","animationName"],s=["","webkit","Moz","ms","O"],r=0;4>r;r++){B=s[r];for(var q=0;3>q;q++){v=t[q],u=B+(B?v.charAt(0).toUpperCase()+v.slice(1):v),!A[v]&&u in C&&(A[v]=u)}B&&!A.raf&&(B=B.toLowerCase(),A.raf=window[B+"RequestAnimationFrame"],A.raf&&(A.caf=window[B+"CancelAnimationFrame"]||window[B+"CancelRequestAnimationFrame"]))}if(!A.raf){var e=0;A.raf=function(g){var f=(new Date).getTime(),i=Math.max(0,16-(f-e)),h=window.setTimeout(function(){g(f+i)},i);return e=f+i,h},A.caf=function(c){clearTimeout(c)}}return A.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,cj.features=A,A}};cj.detectFeatures(),cj.features.oldIE&&(cj.bind=function(j,i,p,o){i=i.split(" ");for(var n,m=(o?"detach":"attach")+"Event",l=function(){p.handleEvent.call(p)},k=0;k<i.length;k++){if(n=i[k]){if("object"==typeof p&&p.handleEvent){if(o){if(!p["oldIE"+n]){return !1}}else{p["oldIE"+n]=l}j[m]("on"+n,p["oldIE"+n])}else{j[m]("on"+n,p)}}}});var ch=this,cf=25,ce=3,b9={allowPanToNext:!0,spacing:0.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:0.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:0.35,panEndFriction:0.35,isClickableElement:function(c){return"A"===c.tagName},getDoubleTapZoom:function(d,c){return d?1:c.initialZoomLevel<0.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};cj.extend(b9,ck);var b8,b7,b6,b5,b4,b3,b2,b0,bZ,bX,bW,bV,bU,bT,bS,bR,bP,cZ,cX,cW,cV,cU,cT,cR,cP,cO,cM,cL,cK,cJ,cI,cH,cG,cF,cD,cC,cA,cz,cy,cx,cw,cv,cu,dh,co,dg,cS,ci,bK,bA,bq,bd,aZ,aO,aD,ar,ae=function(){return{x:0,y:0}},dn=ae(),c5=ae(),ct=ae(),bQ={},bF=0,bv={},bi=ae(),a4=0,aT=!0,aI=[],ax={},aj=!1,dt=function(d,c){cj.extend(ch,c.publicMethods),aI.push(d)},dd=function(d){var c=ak();return d>c-1?d-c:0>d?c+d:d},bo={},a8=function(d,c){return bo[d]||(bo[d]=[]),bo[d].push(c)},aX=function(f){var e=bo[f];if(e){var h=Array.prototype.slice.call(arguments);h.shift();for(var g=0;g<e.length;g++){e[g].apply(ch,h)}}},aM=function(){return(new Date).getTime()},aB=function(c){aO=c,ch.bg.style.opacity=c*b9.bgOpacity},ap=function(g,f,j,i,h){(!aj||h&&h!==ch.currItem)&&(i/=h?h.fitRatio:ch.currItem.fitRatio),g[cU]=bV+f+"px, "+j+"px"+bU+" scale("+i+")"},dx=function(c){bK&&(c&&(bX>ch.currItem.fitRatio?aj||(dw(ch.currItem,!1,!0),aj=!0):aj&&(dw(ch.currItem),aj=!1)),ap(bK,ct.x,ct.y,bX))},dl=function(c){c.container&&ap(c.container.style,c.initialPosition.x,c.initialPosition.y,c.initialZoomLevel,c)},c3=function(d,c){c[cU]=bV+d+"px, 0px"+bU},cr=function(f,e){if(!b9.loop&&e){var h=b5+(bi.x*bF-f)/bi.x,g=Math.round(f-bh.x);(0>h&&g>0||h>=ak()-1&&0>g)&&(f=bh.x+g*b9.mainScrollEndFriction)}bh.x=f,c3(f,b4)},bN=function(e,d){var f=a3[e]-bv[e];return c5[e]+dn[e]+f-f*(d/bW)},bD=function(d,c){d.x=c.x,d.y=c.y,c.id&&(d.id=c.id)},bt=function(c){c.x=Math.round(c.x),c.y=Math.round(c.y)},bg=null,a2=function(){bg&&(cj.unbind(document,"mousemove",a2),cj.addClass(cn,"pswp--has_mouse"),b9.mouseUsed=!0,aX("mouseUsed")),bg=setTimeout(function(){bg=null},100)},aR=function(){cj.bind(document,"keydown",ch),cI.transform&&cj.bind(ch.scrollWrap,"click",ch),b9.mouseUsed||cj.bind(document,"mousemove",a2),cj.bind(window,"resize scroll",ch),aX("bindEvents")},aG=function(){cj.unbind(window,"resize",ch),cj.unbind(window,"scroll",bZ.scroll),cj.unbind(document,"keydown",ch),cj.unbind(document,"mousemove",a2),cI.transform&&cj.unbind(ch.scrollWrap,"click",ch),cz&&cj.unbind(window,b2,ch),aX("unbindEvents")},av=function(e,d){var f=aW(ch.currItem,bQ,e);return d&&(ci=f),f},ah=function(c){return c||(c=ch.currItem),c.initialZoomLevel},dr=function(c){return c||(c=ch.currItem),c.w>0?b9.maxSpreadZoom:1},c8=function(f,e,h,g){return g===ch.currItem.initialZoomLevel?(h[f]=ch.currItem.initialPosition[f],!0):(h[f]=bN(f,g),h[f]>e.min[f]?(h[f]=e.min[f],!0):h[f]<e.max[f]?(h[f]=e.max[f],!0):!1)},cE=function(){if(cU){var a=cI.perspective&&!cR;return bV="translate"+(a?"3d(":"("),void (bU=cI.perspective?", 0px)":")")}cU="left",cj.addClass(cn,"pswp--ie"),c3=function(d,c){c.left=d+"px"},dl=function(g){var f=g.fitRatio>1?1:g.fitRatio,j=g.container.style,i=f*g.w,h=f*g.h;j.width=i+"px",j.height=h+"px",j.left=g.initialPosition.x+"px",j.top=g.initialPosition.y+"px"},dx=function(){if(bK){var g=bK,f=ch.currItem,j=f.fitRatio>1?1:f.fitRatio,i=j*f.w,h=j*f.h;g.width=i+"px",g.height=h+"px",g.left=ct.x+"px",g.top=ct.y+"px"}}},b1=function(d){var c="";b9.escKey&&27===d.keyCode?c="close":b9.arrowKeys&&(37===d.keyCode?c="prev":39===d.keyCode&&(c="next")),c&&(d.ctrlKey||d.altKey||d.shiftKey||d.metaKey||(d.preventDefault?d.preventDefault():d.returnValue=!1,ch[c]()))},bH=function(c){c&&(cw||cx||bA||cC)&&(c.preventDefault(),c.stopPropagation())},bx=function(){ch.setScrollOffset(0,cj.getScrollY())},bk={},c0=0,al=function(c){bk[c]&&(bk[c].raf&&cO(bk[c].raf),c0--,delete bk[c])},df=function(c){bk[c]&&al(c),bk[c]||(c0++,bk[c]={})},cQ=function(){for(var c in bk){bk.hasOwnProperty(c)&&al(c)}},cg=function(t,s,r,q,p,o,n){var m,l=aM();df(t);var k=function(){if(bk[t]){if(m=aM()-l,m>=q){return al(t),o(r),void (n&&n())}o((r-s)*p(m/q)+s),bk[t].raf=cP(k)}};k()},bJ={shout:aX,listen:a8,viewportSize:bQ,options:b9,isMainScrollAnimating:function(){return bA},getZoomLevel:function(){return bX},getCurrentIndex:function(){return b5},isDragging:function(){return cz},isZooming:function(){return co},setScrollOffset:function(d,c){bv.x=d,cJ=bv.y=c,aX("updateScrollOffset",bv)},applyZoomPan:function(f,e,h,g){ct.x=e,ct.y=h,bX=f,dx(g)},init:function(){if(!b8&&!b7){var h;ch.framework=cj,ch.template=cn,ch.bg=cj.getChildByClass(cn,"pswp__bg"),cM=cn.className,b8=!0,cI=cj.detectFeatures(),cP=cI.raf,cO=cI.caf,cU=cI.transform,cK=cI.oldIE,ch.scrollWrap=cj.getChildByClass(cn,"pswp__scroll-wrap"),ch.container=cj.getChildByClass(ch.scrollWrap,"pswp__container"),b4=ch.container.style,ch.itemHolders=bR=[{el:ch.container.children[0],wrap:0,index:-1},{el:ch.container.children[1],wrap:0,index:-1},{el:ch.container.children[2],wrap:0,index:-1}],bR[0].el.style.display=bR[2].el.style.display="none",cE(),bZ={resize:ch.updateSize,scroll:bx,keydown:b1,click:bH};var f=cI.isOldIOSPhone||cI.isOldAndroid||cI.isMobileOpera;for(cI.animationName&&cI.transform&&!f||(b9.showAnimationDuration=b9.hideAnimationDuration=0),h=0;h<aI.length;h++){ch["init"+aI[h]]()}if(cm){var e=ch.ui=new cm(ch,cj);e.init()}aX("firstUpdate"),b5=b5||b9.index||0,(isNaN(b5)||0>b5||b5>=ak())&&(b5=0),ch.currItem=cY(b5),(cI.isOldIOSPhone||cI.isOldAndroid)&&(aT=!1),cn.setAttribute("aria-hidden","false"),b9.modal&&(aT?cn.style.position="fixed":(cn.style.position="absolute",cn.style.top=cj.getScrollY()+"px")),void 0===cJ&&(aX("initialLayout"),cJ=cL=cj.getScrollY());var a="pswp--open ";for(b9.mainClass&&(a+=b9.mainClass+" "),b9.showHideOpacity&&(a+="pswp--animate_opacity "),a+=cR?"pswp--touch":"pswp--notouch",a+=cI.animationName?" pswp--css_animation":"",a+=cI.svg?" pswp--svg":"",cj.addClass(cn,a),ch.updateSize(),b3=-1,a4=null,h=0;ce>h;h++){c3((h+b3)*bi.x,bR[h].el.style)}cK||cj.bind(ch.scrollWrap,b0,ch),a8("initialZoomInEnd",function(){ch.setContent(bR[0],b5-1),ch.setContent(bR[2],b5+1),bR[0].el.style.display=bR[2].el.style.display="block",b9.focus&&cn.focus(),aR()}),ch.setContent(bR[1],b5),ch.updateCurrItem(),aX("afterInit"),aT||(bT=setInterval(function(){c0||cz||co||bX!==ch.currItem.initialZoomLevel||ch.updateSize()},1000)),cj.addClass(cn,"pswp--visible")}},close:function(){b8&&(b8=!1,b7=!0,aX("close"),aG(),cN(ch.currItem,null,!0,ch.destroy))},destroy:function(){aX("destroy"),bY&&clearTimeout(bY),cn.setAttribute("aria-hidden","true"),cn.className=cM,bT&&clearInterval(bT),cj.unbind(ch.scrollWrap,b0,ch),cj.unbind(window,"scroll",ch),ds(),cQ(),bo=null},panTo:function(e,d,f){f||(e>ci.min.x?e=ci.min.x:e<ci.max.x&&(e=ci.max.x),d>ci.min.y?d=ci.min.y:d<ci.max.y&&(d=ci.max.y)),ct.x=e,ct.y=d,dx()},handleEvent:function(c){c=c||window.event,bZ[c.type]&&bZ[c.type](c)},goTo:function(d){d=dd(d);var c=d-b5;a4=c,b5=d,ch.currItem=cY(b5),bF-=c,cr(bi.x*bF),cQ(),bA=!1,ch.updateCurrItem()},next:function(){ch.goTo(b5+1)},prev:function(){ch.goTo(b5-1)},updateCurrZoomItem:function(d){if(d&&aX("beforeChange",0),bR[1].el.children.length){var c=bR[1].el.children[0];bK=cj.hasClass(c,"pswp__zoom-wrap")?c.style:null}else{bK=null}ci=ch.currItem.bounds,bW=bX=ch.currItem.initialZoomLevel,ct.x=ci.center.x,ct.y=ci.center.y,d&&aX("afterChange")},invalidateCurrItems:function(){bS=!0;for(var c=0;ce>c;c++){bR[c].item&&(bR[c].item.needsUpdate=!0)}},updateCurrItem:function(g){if(0!==a4){var f,j=Math.abs(a4);if(!(g&&2>j)){ch.currItem=cY(b5),aj=!1,aX("beforeChange",a4),j>=ce&&(b3+=a4+(a4>0?-ce:ce),j=ce);for(var i=0;j>i;i++){a4>0?(f=bR.shift(),bR[ce-1]=f,b3++,c3((b3+2)*bi.x,f.el.style),ch.setContent(f,b5-j+i+1+1)):(f=bR.pop(),bR.unshift(f),b3--,c3(b3*bi.x,f.el.style),ch.setContent(f,b5+j-i-1-1))}if(bK&&1===Math.abs(a4)){var h=cY(bP);h.initialZoomLevel!==bX&&(aW(h,bQ),dw(h),dl(h))}a4=0,ch.updateCurrZoomItem(),bP=b5,aX("afterChange")}}},updateSize:function(a){if(!aT&&b9.modal){var l=cj.getScrollY();if(cJ!==l&&(cn.style.top=l+"px",cJ=l),!a&&ax.x===window.innerWidth&&ax.y===window.innerHeight){return}ax.x=window.innerWidth,ax.y=window.innerHeight,cn.style.height=ax.y+"px"}if(bQ.x=ch.scrollWrap.clientWidth,bQ.y=ch.scrollWrap.clientHeight,bx(),bi.x=bQ.x+Math.round(bQ.x*b9.spacing),bi.y=bQ.y,cr(bi.x*bF),aX("beforeResize"),void 0!==b3){for(var i,h,f,e=0;ce>e;e++){i=bR[e],c3((e+b3)*bi.x,i.el.style),f=b5+e-1,b9.loop&&ak()>2&&(f=dd(f)),h=cY(f),h&&(bS||h.needsUpdate||!h.bounds)?(ch.cleanSlide(h),ch.setContent(i,f),1===e&&(ch.currItem=h,ch.updateCurrZoomItem(!0)),h.needsUpdate=!1):-1===i.index&&f>=0&&ch.setContent(i,f),h&&h.container&&(aW(h,bQ),dw(h),dl(h))}bS=!1}bW=bX=ch.currItem.initialZoomLevel,ci=ch.currItem.bounds,ci&&(ct.x=ci.center.x,ct.y=ci.center.y,dx(!0)),aX("resize")},zoomTo:function(t,s,r,q,p){s&&(bW=bX,a3.x=Math.abs(s.x)-ct.x,a3.y=Math.abs(s.y)-ct.y,bD(c5,ct));var o=av(t,!1),n={};c8("x",o,n,t),c8("y",o,n,t);var m=bX,l={x:ct.x,y:ct.y};bt(n);var e=function(a){1===a?(bX=t,ct.x=n.x,ct.y=n.y):(bX=(t-m)*a+m,ct.x=(n.x-l.x)*a+l.x,ct.y=(n.y-l.y)*a+l.y),p&&p(a),dx(1===a)};r?cg("customZoomTo",0,1,r,q||cj.easing.sine.inOut,e):e(1)}},bz=30,bp=10,a9={},aY={},aN={},aC={},aq={},ad=[],dm={},c4=[],cs={},bO=0,bE=ae(),bu=0,bh=ae(),a3=ae(),aS=ae(),aH=function(d,c){return d.x===c.x&&d.y===c.y},aw=function(d,c){return Math.abs(d.x-c.x)<cf&&Math.abs(d.y-c.y)<cf},ai=function(d,c){return cs.x=Math.abs(d.x-c.x),cs.y=Math.abs(d.y-c.y),Math.sqrt(cs.x*cs.x+cs.y*cs.y)},ds=function(){cv&&(cO(cv),cv=null)},c9=function(){cz&&(cv=cP(c9),aP())},bm=function(){return !("fit"===b9.scaleMode&&bX===ch.currItem.initialZoomLevel)},a6=function(d,c){return d&&d!==document?d.getAttribute("class")&&d.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:c(d)?d:a6(d.parentNode,c):!1},aV={},aK=function(d,c){return aV.prevent=!a6(d.target,b9.isClickableElement),aX("preventDragEvent",d,c,aV),aV.prevent},az=function(d,c){return c.x=d.pageX,c.y=d.pageY,c.id=d.identifier,c},an=function(e,d,f){f.x=0.5*(e.x+d.x),f.y=0.5*(e.y+d.y)},dv=function(f,e,h){if(f-cG>50){var g=c4.length>2?c4.shift():{};g.x=e,g.y=h,c4.push(g),cG=f}},dj=function(){var c=ct.y-ch.currItem.initialPosition.y;return 1-Math.abs(c/(bQ.y/2))},c1={},cp={},bL=[],bB=function(c){for(;bL.length>0;){bL.pop()}return cT?(ar=0,ad.forEach(function(d){0===ar?bL[0]=d:1===ar&&(bL[1]=d),ar++})):c.type.indexOf("touch")>-1?c.touches&&c.touches.length>0&&(bL[0]=az(c.touches[0],c1),c.touches.length>1&&(bL[1]=az(c.touches[1],cp))):(c1.x=c.pageX,c1.y=c.pageY,c1.id="",bL[0]=c1),bL},br=function(v,u){var t,s,r,q,p=0,o=ct[v]+u[v],n=u[v]>0,i=bh.x+u.x,f=bh.x-dm.x;return t=o>ci.min[v]||o<ci.max[v]?b9.panEndFriction:1,o=ct[v]+u[v]*t,!b9.allowPanToNext&&bX!==ch.currItem.initialZoomLevel||(bK?"h"!==bq||"x"!==v||cx||(n?(o>ci.min[v]&&(t=b9.panEndFriction,p=ci.min[v]-o,s=ci.min[v]-c5[v]),(0>=s||0>f)&&ak()>1?(q=i,0>f&&i>dm.x&&(q=dm.x)):ci.min.x!==ci.max.x&&(r=o)):(o<ci.max[v]&&(t=b9.panEndFriction,p=o-ci.max[v],s=c5[v]-ci.max[v]),(0>=s||f>0)&&ak()>1?(q=i,f>0&&i<dm.x&&(q=dm.x)):ci.min.x!==ci.max.x&&(r=o))):q=i,"x"!==v)?void (bA||cu||bX>ch.currItem.fitRatio&&(ct[v]+=u[v]*t)):(void 0!==q&&(cr(q,!0),cu=q===dm.x?!1:!0),ci.min.x!==ci.max.x&&(void 0!==r?ct.x=r:cu||(ct.x+=u.x*t)),void 0!==q)},be=function(f){if(!("mousedown"===f.type&&f.button>0)){if(bj){return void f.preventDefault()}if(!cA||"mousedown"!==f.type){if(aK(f,!0)&&f.preventDefault(),aX("pointerDown"),cT){var e=cj.arraySearch(ad,f.pointerId,"id");0>e&&(e=ad.length),ad[e]={x:f.pageX,y:f.pageY,id:f.pointerId}}var h=bB(f),g=h.length;dh=null,cQ(),cz&&1!==g||(cz=bd=!0,cj.bind(window,b2,ch),cD=aD=aZ=cC=cu=cw=cy=cx=!1,bq=null,aX("firstTouchStart",h),bD(c5,ct),dn.x=dn.y=0,bD(aC,h[0]),bD(aq,aC),dm.x=bi.x*bF,c4=[{x:aC.x,y:aC.y}],cG=cH=aM(),av(bX,!0),ds(),c9()),!co&&g>1&&!bA&&!cu&&(bW=bX,cx=!1,co=cy=!0,dn.y=dn.x=0,bD(c5,ct),bD(a9,h[0]),bD(aY,h[1]),an(a9,aY,aS),a3.x=Math.abs(aS.x)-ct.x,a3.y=Math.abs(aS.y)-ct.y,dg=cS=ai(a9,aY))}}},a0=function(g){if(g.preventDefault(),cT){var e=cj.arraySearch(ad,g.pointerId,"id");if(e>-1){var j=ad[e];j.x=g.pageX,j.y=g.pageY}}if(cz){var i=bB(g);if(bq||cw||co){dh=i}else{if(bh.x!==bi.x*bF){bq="h"}else{var h=Math.abs(i[0].x-aC.x)-Math.abs(i[0].y-aC.y);Math.abs(h)>=bp&&(bq=h>0?"h":"v",dh=i)}}}},aP=function(){if(dh){var t=dh.length;if(0!==t){if(bD(a9,dh[0]),aN.x=a9.x-aC.x,aN.y=a9.y-aC.y,co&&t>1){if(aC.x=a9.x,aC.y=a9.y,!aN.x&&!aN.y&&aH(dh[1],aY)){return}bD(aY,dh[1]),cx||(cx=!0,aX("zoomGestureStarted"));var s=ai(a9,aY),r=c6(s);r>ch.currItem.initialZoomLevel+ch.currItem.initialZoomLevel/15&&(aD=!0);var q=1,p=ah(),o=dr();if(p>r){if(b9.pinchToClose&&!aD&&bW<=ch.currItem.initialZoomLevel){var n=p-r,m=1-n/(p/1.2);aB(m),aX("onPinchClose",m),aZ=!0}else{q=(p-r)/p,q>1&&(q=1),r=p-q*(p/3)}}else{r>o&&(q=(r-o)/(6*p),q>1&&(q=1),r=o+q*p)}0>q&&(q=0),dg=s,an(a9,aY,bE),dn.x+=bE.x-aS.x,dn.y+=bE.y-aS.y,bD(aS,bE),ct.x=bN("x",r),ct.y=bN("y",r),cD=r>bX,bX=r,dx()}else{if(!bq){return}if(bd&&(bd=!1,Math.abs(aN.x)>=bp&&(aN.x-=dh[0].x-aq.x),Math.abs(aN.y)>=bp&&(aN.y-=dh[0].y-aq.y)),aC.x=a9.x,aC.y=a9.y,0===aN.x&&0===aN.y){return}if("v"===bq&&b9.closeOnVerticalDrag&&!bm()){dn.y+=aN.y,ct.y+=aN.y;var i=dj();return cC=!0,aX("onVerticalDrag",i),aB(i),void dx()}dv(aM(),a9.x,a9.y),cw=!0,ci=ch.currItem.bounds;var f=br("x",aN);f||(br("y",aN),bt(ct),dx())}}}},aE=function(x){if(cI.isOldAndroid){if(cA&&"mouseup"===x.type){return}x.type.indexOf("touch")>-1&&(clearTimeout(cA),cA=setTimeout(function(){cA=0},600))}aX("pointerUp"),aK(x,!1)&&x.preventDefault();var w;if(cT){var v=cj.arraySearch(ad,x.pointerId,"id");if(v>-1){if(w=ad.splice(v,1)[0],navigator.pointerEnabled){w.type=x.pointerType||"mouse"}else{var u={4:"mouse",2:"touch",3:"pen"};w.type=u[x.pointerType],w.type||(w.type=x.pointerType||"mouse")}}}var t,s=bB(x),r=s.length;if("mouseup"===x.type&&(r=0),2===r){return dh=null,!0}1===r&&bD(aq,s[0]),0!==r||bq||bA||(w||("mouseup"===x.type?w={x:x.pageX,y:x.pageY,type:"mouse"}:x.changedTouches&&x.changedTouches[0]&&(w={x:x.changedTouches[0].pageX,y:x.changedTouches[0].pageY,type:"touch"})),aX("touchRelease",x,w));var q=-1;if(0===r&&(cz=!1,cj.unbind(window,b2,ch),ds(),co?q=0:-1!==bu&&(q=aM()-bu)),bu=1===r?aM():-1,t=-1!==q&&150>q?"zoom":"swipe",co&&2>r&&(co=!1,1===r&&(t="zoomPointerUp"),aX("zoomGestureEnded")),dh=null,cw||cx||bA||cC){if(cQ(),cF||(cF=at()),cF.calculateSwipeSpeed("x"),cC){var p=dj();if(p<b9.verticalDragRange){ch.close()}else{var i=ct.y,f=aO;cg("verticalDrag",0,1,300,cj.easing.cubic.out,function(c){ct.y=(ch.currItem.initialPosition.y-i)*c+i,aB((1-f)*c+f),dx()}),aX("onVerticalDrag",1)}}else{if((cu||bA)&&0===r){var e=dp(t,cF);if(e){return}t="zoomPointerUp"}if(!bA){return"swipe"!==t?void cB():void (!cu&&bX>ch.currItem.fitRatio&&af(cF))}}}},at=function(){var e,d,f={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(a){c4.length>1?(e=aM()-cG+50,d=c4[c4.length-2][a]):(e=aM()-cH,d=aq[a]),f.lastFlickOffset[a]=aC[a]-d,f.lastFlickDist[a]=Math.abs(f.lastFlickOffset[a]),f.lastFlickDist[a]>20?f.lastFlickSpeed[a]=f.lastFlickOffset[a]/e:f.lastFlickSpeed[a]=0,Math.abs(f.lastFlickSpeed[a])<0.1&&(f.lastFlickSpeed[a]=0),f.slowDownRatio[a]=0.95,f.slowDownRatioReverse[a]=1-f.slowDownRatio[a],f.speedDecelerationRatio[a]=1},calculateOverBoundsAnimOffset:function(g,c){f.backAnimStarted[g]||(ct[g]>ci.min[g]?f.backAnimDestination[g]=ci.min[g]:ct[g]<ci.max[g]&&(f.backAnimDestination[g]=ci.max[g]),void 0!==f.backAnimDestination[g]&&(f.slowDownRatio[g]=0.7,f.slowDownRatioReverse[g]=1-f.slowDownRatio[g],f.speedDecelerationRatioAbs[g]<0.05&&(f.lastFlickSpeed[g]=0,f.backAnimStarted[g]=!0,cg("bounceZoomPan"+g,ct[g],f.backAnimDestination[g],c||300,cj.easing.sine.out,function(a){ct[g]=a,dx()}))))},calculateAnimOffset:function(c){f.backAnimStarted[c]||(f.speedDecelerationRatio[c]=f.speedDecelerationRatio[c]*(f.slowDownRatio[c]+f.slowDownRatioReverse[c]-f.slowDownRatioReverse[c]*f.timeDiff/10),f.speedDecelerationRatioAbs[c]=Math.abs(f.lastFlickSpeed[c]*f.speedDecelerationRatio[c]),f.distanceOffset[c]=f.lastFlickSpeed[c]*f.speedDecelerationRatio[c]*f.timeDiff,ct[c]+=f.distanceOffset[c])},panAnimLoop:function(){return bk.zoomPan&&(bk.zoomPan.raf=cP(f.panAnimLoop),f.now=aM(),f.timeDiff=f.now-f.lastNow,f.lastNow=f.now,f.calculateAnimOffset("x"),f.calculateAnimOffset("y"),dx(),f.calculateOverBoundsAnimOffset("x"),f.calculateOverBoundsAnimOffset("y"),f.speedDecelerationRatioAbs.x<0.05&&f.speedDecelerationRatioAbs.y<0.05)?(ct.x=Math.round(ct.x),ct.y=Math.round(ct.y),dx(),void al("zoomPan")):void 0}};return f},af=function(c){return c.calculateSwipeSpeed("y"),ci=ch.currItem.bounds,c.backAnimDestination={},c.backAnimStarted={},Math.abs(c.lastFlickSpeed.x)<=0.05&&Math.abs(c.lastFlickSpeed.y)<=0.05?(c.speedDecelerationRatioAbs.x=c.speedDecelerationRatioAbs.y=0,c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),!0):(df("zoomPan"),c.lastNow=aM(),void c.panAnimLoop())},dp=function(t,s){var r;bA||(bO=b5);var q;if("swipe"===t){var p=aC.x-aq.x,o=s.lastFlickDist.x<10;p>bz&&(o||s.lastFlickOffset.x>20)?q=-1:-bz>p&&(o||s.lastFlickOffset.x<-20)&&(q=1)}var m;q&&(b5+=q,0>b5?(b5=b9.loop?ak()-1:0,m=!0):b5>=ak()&&(b5=b9.loop?0:ak()-1,m=!0),(!m||b9.loop)&&(a4+=q,bF-=q,r=!0));var i,f=bi.x*bF,e=Math.abs(f-bh.x);return r||f>bh.x==s.lastFlickSpeed.x>0?(i=Math.abs(s.lastFlickSpeed.x)>0?e/Math.abs(s.lastFlickSpeed.x):333,i=Math.min(i,400),i=Math.max(i,250)):i=333,bO===b5&&(r=!1),bA=!0,aX("mainScrollAnimStart"),cg("mainScroll",bh.x,f,i,cj.easing.cubic.out,cr,function(){cQ(),bA=!1,bO=-1,(r||bO!==b5)&&ch.updateCurrItem(),aX("mainScrollAnimComplete")}),r&&ch.updateCurrItem(!0),r},c6=function(c){return 1/cS*c*bW},cB=function(){var f=bX,e=ah(),l=dr();e>bX?f=e:bX>l&&(f=l);var k,j=1,i=aO;return aZ&&!cD&&!aD&&e>bX?(ch.close(),!0):(aZ&&(k=function(c){aB((j-i)*c+i)}),ch.zoomTo(f,0,200,cj.easing.cubic.out,k),!0)};dt("Gestures",{publicMethods:{initGestures:function(){var c=function(g,f,j,i,h){cZ=g+f,cX=g+j,cW=g+i,cV=h?g+h:""};cT=cI.pointerEvent,cT&&cI.touch&&(cI.touch=!1),cT?navigator.pointerEnabled?c("pointer","down","move","up","cancel"):c("MSPointer","Down","Move","Up","Cancel"):cI.touch?(c("touch","start","move","end","cancel"),cR=!0):c("mouse","down","move","up"),b2=cX+" "+cW+" "+cV,b0=cZ,cT&&!cR&&(cR=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),ch.likelyTouchDevice=cR,bZ[cZ]=be,bZ[cX]=a0,bZ[cW]=aE,cV&&(bZ[cV]=bZ[cW]),cI.touch&&(b0+=" mousedown",b2+=" mousemove mouseup",bZ.mousedown=bZ[cZ],bZ.mousemove=bZ[cX],bZ.mouseup=bZ[cW]),cR||(b9.allowPanToNext=!1)}}});var bY,bG,bw,bj,cY,ak,de,cN=function(a,p,m,l){bY&&clearTimeout(bY),bj=!0,bw=!0;var i;a.initialLayout?(i=a.initialLayout,a.initialLayout=null):i=b9.getThumbBoundsFn&&b9.getThumbBoundsFn(b5);var f=m?b9.hideAnimationDuration:b9.showAnimationDuration,e=function(){al("initialZoom"),m?(ch.template.removeAttribute("style"),ch.bg.removeAttribute("style")):(aB(1),p&&(p.style.display="block"),cj.addClass(cn,"pswp--animated-in"),aX("initialZoom"+(m?"OutEnd":"InEnd"))),l&&l(),bj=!1};if(!f||!i||void 0===i.x){return aX("initialZoom"+(m?"Out":"In")),bX=a.initialZoomLevel,bD(ct,a.initialPosition),dx(),cn.style.opacity=m?0:1,aB(1),void (f?setTimeout(function(){e()},f):e())}var o=function(){var h=b6,d=!ch.currItem.src||ch.currItem.loadError||b9.showHideOpacity;a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden"),m||(bX=i.w/a.w,ct.x=i.x,ct.y=i.y-cL,ch[d?"template":"bg"].style.opacity=0.001,dx()),df("initialZoom"),m&&!h&&cj.removeClass(cn,"pswp--animated-in"),d&&(m?cj[(h?"remove":"add")+"Class"](cn,"pswp--animate_opacity"):setTimeout(function(){cj.addClass(cn,"pswp--animate_opacity")},30)),bY=setTimeout(function(){if(aX("initialZoom"+(m?"Out":"In")),m){var k=i.w/a.w,j={x:ct.x,y:ct.y},g=bX,c=aO,q=function(n){1===n?(bX=k,ct.x=i.x,ct.y=i.y-cJ):(bX=(k-g)*n+g,ct.x=(i.x-j.x)*n+j.x,ct.y=(i.y-cJ-j.y)*n+j.y),dx(),d?cn.style.opacity=1-n:aB(c-n*c)};h?cg("initialZoom",0,1,f,cj.easing.cubic.out,q,e):(q(1),bY=setTimeout(e,f+20))}else{bX=a.initialZoomLevel,bD(ct,a.initialPosition),dx(),aB(1),d?cn.style.opacity=1:aB(1),bY=setTimeout(e,f+20)}},m?25:90)};o()},cd={},bI=[],by={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return bG.length}},bn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},a7=function(f,e,h){var g=f.bounds;g.center.x=Math.round((cd.x-e)/2),g.center.y=Math.round((cd.y-h)/2)+f.vGap.top,g.max.x=e>cd.x?Math.round(cd.x-e):g.center.x,g.max.y=h>cd.y?Math.round(cd.y-h)+f.vGap.top:g.center.y,g.min.x=e>cd.x?0:g.center.x,g.min.y=h>cd.y?f.vGap.top:g.center.y},aW=function(i,h,n){if(i.src&&!i.loadError){var m=!n;if(m&&(i.vGap||(i.vGap={top:0,bottom:0}),aX("parseVerticalMargin",i)),cd.x=h.x,cd.y=h.y-i.vGap.top-i.vGap.bottom,m){var l=cd.x/i.w,k=cd.y/i.h;i.fitRatio=k>l?l:k;var j=b9.scaleMode;"orig"===j?n=1:"fit"===j&&(n=i.fitRatio),n>1&&(n=1),i.initialZoomLevel=n,i.bounds||(i.bounds=bn())}if(!n){return}return a7(i,i.w*n,i.h*n),m&&n===i.initialZoomLevel&&(i.initialPosition=i.bounds.center),i.bounds}return i.w=i.h=0,i.initialZoomLevel=i.fitRatio=1,i.bounds=bn(),i.initialPosition=i.bounds.center,i.bounds},aL=function(h,f,l,k,j,i){f.loadError||k&&(f.imageAppended=!0,dw(f,k,f===ch.currItem&&aj),l.appendChild(k),i&&setTimeout(function(){f&&f.loaded&&f.placeholder&&(f.placeholder.style.display="none",f.placeholder=null)},500))},aA=function(e){e.loading=!0,e.loaded=!1;var d=e.img=cj.createEl("pswp__img","img"),f=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,d.onload=d.onerror=null,d=null};return d.onload=f,d.onerror=function(){e.loadError=!0,f()},d.src=e.src,d},ao=function(d,c){return d.src&&d.loadError&&d.container?(c&&(d.container.innerHTML=""),d.container.innerHTML=b9.errorMsg.replace("%url%",d.src),!0):void 0},dw=function(g,f,j){if(g.src){f||(f=g.container.lastChild);var i=j?g.w:Math.round(g.w*g.fitRatio),h=j?g.h:Math.round(g.h*g.fitRatio);g.placeholder&&!g.loaded&&(g.placeholder.style.width=i+"px",g.placeholder.style.height=h+"px"),f.style.width=i+"px",f.style.height=h+"px"}},dk=function(){if(bI.length){for(var d,c=0;c<bI.length;c++){d=bI[c],d.holder.index===d.index&&aL(d.index,d.item,d.baseDiv,d.img,!1,d.clearPlaceholder)}bI=[]}};dt("Controller",{publicMethods:{lazyLoadItem:function(d){d=dd(d);var c=cY(d);c&&(!c.loaded&&!c.loading||bS)&&(aX("gettingData",d,c),c.src&&aA(c))},initController:function(){cj.extend(b9,by,!0),ch.items=bG=cl,cY=ch.getItemAt,ak=b9.getNumItemsFn,de=b9.loop,ak()<3&&(b9.loop=!1),a8("beforeChange",function(h){var f,l=b9.preload,k=null===h?!0:h>=0,j=Math.min(l[0],ak()),i=Math.min(l[1],ak());for(f=1;(k?i:j)>=f;f++){ch.lazyLoadItem(b5+f)}for(f=1;(k?j:i)>=f;f++){ch.lazyLoadItem(b5-f)}}),a8("initialLayout",function(){ch.currItem.initialLayout=b9.getThumbBoundsFn&&b9.getThumbBoundsFn(b5)}),a8("mainScrollAnimComplete",dk),a8("initialZoomInEnd",dk),a8("destroy",function(){for(var d,c=0;c<bG.length;c++){d=bG[c],d.container&&(d.container=null),d.placeholder&&(d.placeholder=null),d.img&&(d.img=null),d.preloader&&(d.preloader=null),d.loadError&&(d.loaded=d.loadError=!1)}bI=null})},getItemAt:function(c){return c>=0&&void 0!==bG[c]?bG[c]:!1},allowProgressiveImg:function(){return b9.forceProgressiveLoading||!cR||b9.mouseUsed||screen.width>1200},setContent:function(i,e){b9.loop&&(e=dd(e));var p=ch.getItemAt(i.index);p&&(p.container=null);var o,n=ch.getItemAt(e);if(!n){return void (i.el.innerHTML="")}aX("gettingData",e,n),i.index=e,i.item=n;var m=n.container=cj.createEl("pswp__zoom-wrap");if(!n.src&&n.html&&(n.html.tagName?m.appendChild(n.html):m.innerHTML=n.html),ao(n),aW(n,bQ),!n.src||n.loadError||n.loaded){n.src&&!n.loadError&&(o=cj.createEl("pswp__img","img"),o.style.opacity=1,o.src=n.src,dw(n,o),aL(e,n,m,o,!0))}else{if(n.loadComplete=function(a){if(b8){if(i&&i.index===e){if(ao(a,!0)){return a.loadComplete=a.img=null,aW(a,bQ),dl(a),void (i.index===b5&&ch.updateCurrZoomItem())}a.imageAppended?!bj&&a.placeholder&&(a.placeholder.style.display="none",a.placeholder=null):cI.transform&&(bA||bj)?bI.push({item:a,baseDiv:m,img:a.img,index:e,holder:i,clearPlaceholder:!0}):aL(e,a,m,a.img,bA||bj,!0)}a.loadComplete=null,a.img=null,aX("imageLoadComplete",e,a)}},cj.features.transform){var j="pswp__img pswp__img--placeholder";j+=n.msrc?"":" pswp__img--placeholder--blank";var f=cj.createEl(j,n.msrc?"img":"");n.msrc&&(f.src=n.msrc),dw(n,f),m.appendChild(f),n.placeholder=f}n.loading||aA(n),ch.allowProgressiveImg()&&(!bw&&cI.transform?bI.push({item:n,baseDiv:m,img:n.img,index:e,holder:i}):aL(e,n,m,n.img,!0,!0))}bw||e!==b5?dl(n):(bK=m.style,cN(n,o||n.img)),i.el.innerHTML="",i.el.appendChild(m)},cleanSlide:function(c){c.img&&(c.img.onload=c.img.onerror=null),c.loaded=c.loading=c.img=c.imageAppended=!1}}});var c2,cq={},bM=function(g,f,j){var i=document.createEvent("CustomEvent"),h={origEvent:g,target:g.target,releasePoint:f,pointerType:j||"touch"};i.initCustomEvent("pswpTap",!0,!0,h),g.target.dispatchEvent(i)};dt("Tap",{publicMethods:{initTap:function(){a8("firstTouchStart",ch.onTapStart),a8("touchRelease",ch.onTapRelease),a8("destroy",function(){cq={},c2=null})},onTapStart:function(c){c.length>1&&(clearTimeout(c2),c2=null)},onTapRelease:function(f,e){if(e&&!cw&&!cy&&!c0){var h=e;if(c2&&(clearTimeout(c2),c2=null,aw(h,cq))){return void aX("doubleTap",h)}if("mouse"===e.type){return void bM(f,e,"mouse")}var g=f.target.tagName.toUpperCase();if("BUTTON"===g||cj.hasClass(f.target,"pswp__single-tap")){return void bM(f,e)}bD(cq,h),c2=setTimeout(function(){bM(f,e),c2=null},300)}}}});var bC;dt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){cK||(cR?a8("mouseUsed",function(){ch.setupDesktopZoom()}):ch.setupDesktopZoom(!0))},setupDesktopZoom:function(a){bC={};var j="wheel mousewheel DOMMouseScroll";a8("bindEvents",function(){cj.bind(cn,j,ch.handleMouseWheel)}),a8("unbindEvents",function(){bC&&cj.unbind(cn,j,ch.handleMouseWheel)}),ch.mouseZoomedIn=!1;var i,f=function(){ch.mouseZoomedIn&&(cj.removeClass(cn,"pswp--zoomed-in"),ch.mouseZoomedIn=!1),1>bX?cj.addClass(cn,"pswp--zoom-allowed"):cj.removeClass(cn,"pswp--zoom-allowed"),e()},e=function(){i&&(cj.removeClass(cn,"pswp--dragging"),i=!1)};a8("resize",f),a8("afterChange",f),a8("pointerDown",function(){ch.mouseZoomedIn&&(i=!0,cj.addClass(cn,"pswp--dragging"))}),a8("pointerUp",e),a||f()},handleMouseWheel:function(e){if(bX<=ch.currItem.fitRatio){return b9.modal&&(!b9.closeOnScroll||c0||cz?e.preventDefault():cU&&Math.abs(e.deltaY)>2&&(b6=!0,ch.close())),!0}if(e.stopPropagation(),bC.x=0,"deltaX" in e){1===e.deltaMode?(bC.x=18*e.deltaX,bC.y=18*e.deltaY):(bC.x=e.deltaX,bC.y=e.deltaY)}else{if("wheelDelta" in e){e.wheelDeltaX&&(bC.x=-0.16*e.wheelDeltaX),e.wheelDeltaY?bC.y=-0.16*e.wheelDeltaY:bC.y=-0.16*e.wheelDelta}else{if(!("detail" in e)){return}bC.y=e.detail}}av(bX,!0);var d=ct.x-bC.x,f=ct.y-bC.y;(b9.modal||d<=ci.min.x&&d>=ci.max.x&&f<=ci.min.y&&f>=ci.max.y)&&e.preventDefault(),ch.panTo(d,f)},toggleDesktopZoom:function(a){a=a||{x:bQ.x/2+bv.x,y:bQ.y/2+bv.y};var f=b9.getDoubleTapZoom(!0,ch.currItem),e=bX===f;ch.mouseZoomedIn=!e,ch.zoomTo(e?ch.currItem.initialZoomLevel:f,a,333),cj[(e?"remove":"add")+"Class"](cn,"pswp--zoomed-in")}}});var bs,bf,a1,aQ,aF,au,ag,dq,c7,bl,a5,aU,aJ={history:!0,galleryUID:1},ay=function(){return a5.hash.substring(1)},am=function(){bs&&clearTimeout(bs),a1&&clearTimeout(a1)},du=function(){var h=ay(),g={};if(h.length<5){return g}var l,k=h.split("&");for(l=0;l<k.length;l++){if(k[l]){var j=k[l].split("=");j.length<2||(g[j[0]]=j[1])}}if(b9.galleryPIDs){var i=g.pid;for(g.pid=0,l=0;l<bG.length;l++){if(bG[l].pid===i){g.pid=l;break}}}else{g.pid=parseInt(g.pid,10)-1}return g.pid<0&&(g.pid=0),g},di=function(){if(a1&&clearTimeout(a1),c0||cz){return void (a1=setTimeout(di,500))}aQ?clearTimeout(bf):aQ=!0;var f=b5+1,e=cY(b5);e.hasOwnProperty("pid")&&(f=e.pid);var h=ag+"&gid="+b9.galleryUID+"&pid="+f;dq||-1===a5.hash.indexOf(h)&&(bl=!0);var g=a5.href.split("#")[0]+"#"+h;aU?"#"+h!==window.location.hash&&history[dq?"replaceState":"pushState"]("",document.title,g):dq?a5.replace(g):a5.hash=h,dq=!0,bf=setTimeout(function(){aQ=!1},60)};dt("History",{publicMethods:{initHistory:function(){if(cj.extend(b9,aJ,!0),b9.history){a5=window.location,bl=!1,c7=!1,dq=!1,ag=ay(),aU="pushState" in history,ag.indexOf("gid=")>-1&&(ag=ag.split("&gid=")[0],ag=ag.split("?gid=")[0]),a8("afterChange",ch.updateURL),a8("unbindEvents",function(){cj.unbind(window,"hashchange",ch.onHashChange)});var d=function(){au=!0,c7||(bl?history.back():ag?a5.hash=ag:aU?history.pushState("",document.title,a5.pathname+a5.search):a5.hash=""),am()};a8("unbindEvents",function(){b6&&d()}),a8("destroy",function(){au||d()}),a8("firstUpdate",function(){b5=du().pid});var c=ag.indexOf("pid=");c>-1&&(ag=ag.substring(0,c),"&"===ag.slice(-1)&&(ag=ag.slice(0,-1))),setTimeout(function(){b8&&cj.bind(window,"hashchange",ch.onHashChange)},40)}},onHashChange:function(){return ay()===ag?(c7=!0,void ch.close()):void (aQ||(aF=!0,ch.goTo(du().pid),aF=!1))},updateURL:function(){am(),aF||(dq?bs=setTimeout(di,800):di())}}}),cj.extend(ch,bJ)};return b});